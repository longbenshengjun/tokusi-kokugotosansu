<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ゲーム進行</title>

  <style>
    body {
      font-family: 'Noto Sans JP', sans-serif;
      text-align: center;
      padding: 60px;
    }
    .start-btn {
      padding: 20px 50px;
      font-size: 2.4rem;
      background: #00b894;
      color: white;
      border-radius: 14px;
      border: none;
      cursor: pointer;
    }
    .start-btn:hover {
      background: #009874;
    }
    h1 {
      font-size: 2.6rem;
      margin-bottom: 30px;
    }
  </style>
</head>

<body>

  <h1 id="title">ゲーム</h1>
  <div id="content">
    <button class="start-btn" onclick="startGame()">▶ はじめる</button>
  </div>

<script>
  // URL パラメータ ?step=番号 を取得
  const params = new URLSearchParams(window.location.search);
  let step = Number(params.get("step") || 0);

  // ゲームのパス
  const games = [
    "kokugo/game1/index.html",
    "kokugo/game2/index.html",
    "kokugo/game3/index.html",
    "kokugo/game4/index.html"
  ];

  // はじめるボタン
  function startGame() {
    step = 1;
    goNext();
  }

  // 次のゲームへ自動進行
  function goNext() {
    if (step >= 1 && step <= 4) {
      // メッセージを一瞬だけ表示
      document.getElementById("title").innerText = step + "つめのゲームへようこそ";
      document.getElementById("content").innerHTML = "よみこみちゅう…";

      // 次のゲームへ移動
      const url = games[step - 1] + "?step=" + step;
      window.location.href = url;
    } else {
      // すべて完了
      document.getElementById("title").innerText = "おしまいです";
      document.getElementById("content").innerHTML = "<h2>がんばったね！</h2>";
    }
  }

  // すでに ?step=2 などで戻ってきた場合は自動で続きへ
  if (step >= 2) {
    goNext();
  }
</script>

</body>
</html>
